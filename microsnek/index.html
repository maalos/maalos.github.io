<canvas id="a" width="300" height="300"></canvas><p id="b"></p><script>let w=[{x:200,y:200}];let b=0;let h=false;let e;let d;let i=10;let j=0;var a=document.getElementById("a");var c=a.getContext("2d");k();l();document.addEventListener("keydown",m);function k(){if(o()){return}h=false;setTimeout(function f(){p();r();s();t();k()},100)}function p(){c.fillStyle="#434";c.fillRect(0,0,a.width,a.height)}function t(){w.forEach(u)}function r(){c.fillStyle="#623";c.fillRect(e,d,10,10)}function u(f){c.fillStyle="#BD9";c.fillRect(f.x,f.y,10,10)}function o(){for(let i=4;i<w.v;i++){if(w[i].x===w[0].x&&w[i].y===w[0].y){return 1}}var g=w[0].x<0;var q=w[0].x>a.width-10;var n=w[0].y<0;var f=w[0].y>a.height-10;return g||q||n||f}function 帣(g,f){return Math.round((Math.random()*(f-g)+g)/10)*10}function l(){e=帣(0,a.width-10);d=帣(0,a.height-10);w.forEach(function g(q){var n=q.x==e&&q.y==d;if(n){l()}})}function m(f){var C=37;var B=39;var A=38;var z=40;if(h){return}h=true;var v=f.keyCode;var y=j===-10;var x=j===10;var q=i===10;var n=i===-10;if(v===C&&!q){i=-10;j=0}if(v===A&&!x){i=0;j=-10}if(v===B&&!n){i=10;j=0}if(v===z&&!y){i=0;j=10}}function s(){var f={x:w[0].x+i,y:w[0].y+j};w.unshift(f);var g=w[0].x===e&&w[0].y===d;if(g){b+=1;document.getElementById("b").innerHTML=b;l()}else{w.pop()}};</script>
