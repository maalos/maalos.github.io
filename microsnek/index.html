<canvas id="canvas" width="256" height="256" style="background: #000;"><script>let c=canvas.getContext("2d"),s=[[8,8]],a=[4,4],[dx,dy]=[0,0];onkeydown=({key:e})=>[dx,dy]={[e]:[dx,dy],ArrowRight:[dx||1,0],ArrowLeft:[dx||-1,0],ArrowDown:[0,dy||1],ArrowUp:[0,dy||-1]}[e],setInterval(()=>{if(s.unshift([s[0][0]+dx&15,s[0][1]+dy&15]),""+s[0]==a)with(Math)for(;a=[floor(16*random()),floor(16*random())],s.some(e=>""+e==a););else s.slice(1).some(e=>""+e==s[0])?s.splice(1):s.pop();c.clearRect(0,0,256,256),c.fillStyle="red",c.fillRect(16*a[0],16*a[1],16,16),c.fillStyle="lime",s.forEach(([e,l])=>c.fillRect(16*e,16*l,16,16))},125);</script>
